{% extends "website/base.html" %}
{% load crispy_forms_tags %}
{% load static %}

{% block nav-search %}active{% endblock %}

{% block title %}
    Glass Plates Inventory
{% endblock %}

{% block body %}

<div class="container-fluid">
    <div class="topspacing"></div>
    <div class="row">
        
        <div class="newsidebar d-none d-sm-none d-md-block col-lg-3 col-md-3 col-12">
            <div>
                <a href="/api/?{{ request.GET.urlencode }}">View API Results</a>
                <br/><br/>
                <strong>Query:</strong>
                <br/>
                ((query info to be cleaned up later))
                <br/>

                {% for key,val in query.items %}
                    {{key}}: {{val}}<br/><br/>
                {% endfor %}

                <strong>Total Results:</strong> {{results_count}}<br/><br/>
                <strong>Showing Results:</strong> {{num_start}} through {{num_end}}
                <br/><br/>

            </div>
        </div>

        <div class="col-sm-12 col-md-9 offset-md-3" id="content">
            <div class="mainstuff">

                <h1>Search Results</h1>

                <div>
                    <table class="table">
                        <tr>
                            <th>Plate ID</th>
                            <th>Archive</th>
                            <th>RA</th>
                            <th>Dec</th>
                        </tr>
                        {% for x in results %}
                        <tr>
                            <td><a href="/collections/{{x.repository}}/{{x.identifier}}">{{x.identifier}}</a><br/></td>
                            <td>{{x.repository}}</td>
                            <td>{{x.exposure_info.0.ra}}</td>
                            <td>{{x.exposure_info.0.dec}}</td>
                        </tr>
                        {% endfor %}
                    </table>
                </div>


                <form>
                    <div class="row">
                        <div class="mb-3 row">
                            <label for="num_results" class="col-sm-4 col-form-label">Per Page</label>
                            <div class="col-6">
                                <input type="number" class="form-control" name="num_results" id="num_results" min="1" max="1000" value="50">
                            </div>
                        </div>

                        <button>Previous {{num_results}}</button> &nbsp;&nbsp;&nbsp;<button>Next {{num_results}}</button>

                    </div>

                </form>
                
            </div>
        </div>
    </div>
</div>


{% endblock %}